<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Styleable details2</title>
    <link rel="stylesheet" href="css/styleable-details2.css">
</head>
<body>
    <div>
        <script>
            document.documentElement.dataset.embed = window.location.search.includes('type=embed') ? "yep" : "nope";
            </script>
            
            <main>
              <h1>Styling <code>&lt;details&gt;</code>: Material UI Accordion</h1>
            
              <p class="warning">Your browser does not support <code>::details-content</code>, so this demo won’t work as intended. Please use a browser with support – such as Chrome 131 or newer – to check out this page.</p>
            
              <h2>Demo</h2>
              
              <div id="demo">
                <div class="accordion-wrapper">
                  <details name="accordion" open>
                  <summary>Item 1</summary>
                  <div class="details-content-wrapper">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor, aliquam. Veritatis consequatur, soluta molestiae voluptates accusamus qui odio, error, repellat rem harum id similique omnis quod dignissimos saepe quas mollitia.</p>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor, aliquam. Veritatis consequatur, soluta molestiae voluptates accusamus qui odio, error, repellat rem harum id similique omnis quod dignissimos saepe quas mollitia.</p>
                  </div>
                </details>
                <details name="accordion">
                  <summary>Item 2</summary>
                  <div class="details-content-wrapper">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor, aliquam. Veritatis consequatur, soluta molestiae voluptates accusamus qui odio, error, repellat rem harum id similique omnis quod dignissimos saepe quas mollitia.</p>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor, aliquam. Veritatis consequatur, soluta molestiae voluptates accusamus qui odio, error, repellat rem harum id similique omnis quod dignissimos saepe quas mollitia.</p>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor, aliquam. Veritatis consequatur, soluta molestiae voluptates accusamus qui odio, error, repellat rem harum id similique omnis quod dignissimos saepe quas mollitia.</p>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor, aliquam. Veritatis consequatur, soluta molestiae voluptates accusamus qui odio, error, repellat rem harum id similique omnis quod dignissimos saepe quas mollitia.</p>
                  </div>
                </details>
                <details name="accordion">
                  <summary>Item 3</summary>
                  <div class="details-content-wrapper">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                    <p>Dolor, aliquam. Veritatis consequatur, soluta molestiae voluptates accusamus qui odio, error, repellat rem harum id similique omnis quod dignissimos saepe quas mollitia.</p>
                  </div>
                </details>
                </div>
              </div>
            
              <p>Demo for <a href="https://developer.chrome.com/blog/styling-details" target="_top">https://developer.chrome.com/blog/styling-details</a>, built after <a href="https://mui.com/material-ui/react-accordion/" target="_top">https://mui.com/material-ui/react-accordion/</a></p>
            
              <h2>The Code</h2>
              
              <h3>UI</h3>
              
              <pre><code>/* Animate all properties on details. This because we change the margin, border, etc when open. */
            details {
              transition: all 0.5s ease;
              background: white;
            }
            
            /* Add gap around open details */
            details[open]:not(:first-child) {
              margin-top: 0.5rem;
            }
            details[open]:not(:last-child) {
              margin-bottom: 0.5rem;
            }
            
            /* Add border to all details, but prevent a 2px-looking one when two successive details are collapsed */
            details {
              border: 1px solid #ccc;
            }
            details:not([open]):has(+ details:not(details[open])) {
              border-bottom-color: #fff;
            }
            
            /* Animate all on summmary */
            summary {
              transition: all 0.5s ease;
              padding: 0.5em 1em;
            }
            [open] summary {
              padding: 1em 1em;
            }</code></pre>
              
              <h3>Animation</h3>
              <pre><code>::details-content {
              transition: all 0.5s ease, content-visibility 0.5s allow-discrete;
              height: 0;
              overflow: clip;
            }
            @supports (interpolate-size: allow-keywords) {
              :root {
                interpolate-size: allow-keywords;
              }
            
              [open]::details-content {
                height: auto;
                padding-bottom: 0.5em;
              }
            }
            @supports not (interpolate-size: allow-keywords) {
              [open]::details-content {
                height: 150px; /* In the future to be replaced by `height: auto` */
                overflow-y: scroll; /* In case the contents should be taller than 150px */
              }
            }</code></pre>
            </main>
    </div>
</body>
</html>